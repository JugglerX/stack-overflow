<% if notice %>
  <div class="alert alert-success">
    <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
    <%= notice %>
  </div>
<% end %>

  <div class="row">
    <div class="col-md-12 question-wrapper">
      <h1><%= @question.title %></h1>
      <p><%= @question.content %></p>
      <%= link_to "Edit", edit_question_path(@question) , :class => "btn btn-warning"%>
      <%= link_to "Delete", question_path, method: :delete, data: { confirm: 'Are you sure?' }, :class => "btn btn-danger" %>
    </div>
  </div>

  <div class="row">
    <div class="col-md-12 answer-wrapper">
      <%= link_to 'New Answer', new_question_answer_path(@question), :class => "btn btn-primary pull-right" %>
      <h2><%= @answers.count %> Answers</h2>

      <% @answers.each do |answer| %>
      <div class="answer">

        <%= link_to "Vote Up", votes_path(vote: {vote_value: 1, votable_type: "Answer", votable_id: answer.id}), :class => "btn btn-xs btn-primary", method: :post %>
        <%= link_to "Vote Down", votes_path(vote: {vote_value: -1, votable_type: "Answer", votable_id: answer.id}), :class => "btn btn-xs btn-warning", method: :post %>
        <%= answer.score %>

        <h4><%= answer.title %></h4>
        <%= answer.content %>
        <%= link_to "Show", question_answer_path(@question, answer) , :class => "btn  btn-default", :id => "my-id" %>
      </div>
      <% end %>
    </div>
  </div>




<h2>Add an Answer:</h2>

<!-- http://apidock.com/rails/ActiveRecord/Relation/new -->
<%= form_for([@question, @question.answers.build]) do |f| %>
  <p>
    <%= f.label :title %><br>
    <%= f.text_field :title %>
  </p>
  <p>
    <%= f.label :content %><br>
    <%= f.text_area :content %>
  </p>
  <p>
    <%= f.submit %>
  </p>
<% end %>


<%= link_to 'Edit', edit_question_path(@question) %> |
<%= link_to 'Back', questions_path %>
